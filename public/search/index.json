[{"content":"文件目录总览 my-site/ ├── archetypes/ 模板 ├── assets/ 组件 ├── content/ 内容 ├── data/ 数据 ├── i18n/ 语言 ├── layouts/ 页面 ├── static/ 静态资源 ├── themes/ 主题 └── hugo.toml/yaml/json 配置文件 \u0026mdash;public/ 发布的文件夹\narchetypes 里面存放着简单的模板，利用命令创建文件的时候就会利用上里面的模板。\nassets 里面存放着为数众多的站点的相关资源文件，包括但不限于图标、头像、三方组件的图像、scss（页面主题相关的 css）、ts（typescript？）\n其中友链的相关头像，站点里你的头像（*注：不是ico，是 avatar.png），就放在 /link-img 与 img 下\ncontent 你的博客文件就在这里\ncontent/ ├── categories/ 目录 ├ ── category1/ ├ ├ ├──_index.md //不可以重命名 ├ ├ └──photo1.png //md 文件可能引用的图片 ├ └── category2/ ├── page/ 左边栏 ├ ── name1/ ├ ├ ├── file1/ ├ ├ └──index.md //不可以重命名 ├ └── name2/ ├── post/ 文章存放 ├ ├── year1/ ├ ├ ├── file1/ ├ ├ ├──_index.md //可以重命名 ├ ├ └──photo1.png //md 文件可能引用的图片 ├ ├ ├── file2/ ├ ├ ├──_index.md ├ ├ └──photo.png ├ └── year2/ ├ └── tag/ 标签(尚未探索)\n有几点说明：\n你的文章的页首请记住加上 \u0026ldquo;slug\u0026rdquo;, 它会是这篇文章的永久目录所在地。 不要去重命名 index 和 _index ，会变得不幸 md 文件中如果要引用同目录下的文件，目录应该这么填写：../../post/（year）/（md 的 slug）/yourimgname.png ，因为其渲染出来之后是位于另一个文件夹的。 comments 属性不要出现，目前只要出现评论模块就消失 draft 属性建议常态设置为 false，毕竟都是本地推上去的。 本地推上去，是先在本地进行修改，然后结束之后选择 hugo \u0026ndash;\u0026gt; git add public/ \u0026ndash;\u0026gt; git commit -m \u0026ldquo;update something\u0026rdquo; \u0026ndash;\u0026gt; git push \u0026ndash;force origin \u0026ndash;\u0026gt; go to server and use \u0026ldquo;git pull -f origin master\u0026rdquo;，如果遇到冲突就选择接收外界的然后 git add git commit -m \u0026ldquo;fix error\u0026rdquo; md 文件的文件头的信息可以去官网查询，一般来说给的 default 就基本够用了。 data 这里目前就是存放友链的 json 文件配置的地方。\ni18n 多国语言支持，暂未研究。\nlayouts 页面的结构组织的配件，由 index.html 发起引用，最终递归调用拼出 public 中的 index.html\nstastic （后加） 静态资源，编译出来在 public 的根目录。\nthmems 别动（\nconfig.yaml/htom/json 配置文件\n（挖坑待补）\n","date":"2024-12-06T21:01:03+08:00","permalink":"http://acacia.website/2024/filestructanalysis/","title":"hugo 目录详细说明"},{"content":"我只能说，没有基础确实就只能大声叹气，直接丢失人权了。\n问题描述 giscus 的评论系统莫名其妙地掉了，在我将官方的配置文件搬过来之后。\n对的，就是这么简单，因为 hugo 对于外部组件的加载失败是没有给任何的 errorlog 的，完全不知道从哪里查起。只能硬着头皮一点一点读整个网站的结构系统。\n问题定位 我是在打开 F12 工具，一点一点对着网页找元素找出来的那个空空的框。我甚至可以说你绝对不敢相信，它渲染出来了和没渲染出来一模一样……感谢便利的检查元素工具……\n具体来说，这一块“卡片”是渲染出来了的，但是里面确实空的，且由于 style 的缺失，所以从外面看不出来这里渲染成功了的。\n那么其实也就很好定位问题了，肯定是哪里少了相对应的数据导致组件不能正常工作，所以我又去 F12 工具里面找元素的值，检查它的递归调用是否出了一点什么问题。果不其然，这个东西最后的值是空的。\n问题解决 我就选择去一个一个翻 html 的相互调用（这里面又是 hugo 的语法看的我有点小小的乱）并且依次在每个 html 上添加官方（giscus）给的 script 标签，发现都能正常运行。这时候我考虑到可能是不是传值的时候出了一点问题，遂去看了看每一层之间的变量名的关系。果不其然，我在 config.yaml 中找到的变量名和 giscus.html 中引用的变量名不一样。你绝对不敢信，hugo 使用的变量名和官网（giscus）的变量名不一样导致了引用出问题了。但是其实也不能怪 hugo 吧，只能说这个东西是历史遗留问题（）因为 hugo 语法中变量名不允许出现 \u0026lsquo;-\u0026rsquo; ，所以 hugo 就把变量名做了一定程度的简省和合并，即类似于 data-repo \u0026ndash;\u0026gt; repo 的操作，并且在递归调用中顺理成章地采用了自己的变量名（要不然怎么能跑得起来）最后对直接粘贴官方文档的人造成了毁灭性打击（\n后话 但是其实我觉得还好？ 至少这个 bug 强行要求我去比较彻底地理解了 hugo 的网站结构，具体一些有用没用的知识说不定也涨了？\n还有一个点，在 md 文件头中请不要出现 comments 字段，一旦出现就没有评论加载，原因不明……\n所以 hugo 你的文档里怎么一句不提啊啊啊\n","date":"2024-12-06T20:27:26+08:00","permalink":"http://acacia.website/2024/giscusrepair20241206/","title":"关于 giscus 的相关问题修复"},{"content":"解决静态网站 CSS 丢失 在无数次的重复之后，我终于在偶然间排出了这个折磨我已久的问题：CSS 丢失的原因。\n问题描述 网站的排版完完全全跟着代码中的顺序，安排的位置全部被打乱，可以定位到 CSS 的缺失。如图： 问题排查 （没学过前端，不会系统排查，纯粹碰运气\n打开控制台 只找到了一堆关于 http 安全性的错误，以及一个极为不起眼的结果：mine.types warning。（找不到截图了\n打开元素，对照着找试图找问题 （无果）\n偶然间打开网络 发现 CSS 的文件类型居然是 text/plain !!!\n我感觉到这东西有点像是默认的选择，我就在 F12 中把它改成了 text/css，一下子就正常了！我立马冲到 ngnix 里，把 default type 改成 CSS，也是正常的。那么也就是说……\n我回到我的 index.html 中，在 CSS 文件的后面加上了 type = \u0026quot;text/css\u0026quot; ok，一切正常了。\n不过由于 public 文件是编译出来的，所以去到 /layouts/partials/head/style.html 在这里进行修改，一劳永逸。\n但是还有疑虑没有解决，为什么 ngnix 没有读出来是 CSS，我明明 \u0026ldquo;include mines.type\u0026rdquo; 了啊？？？里面也有 CSS 对应的东西啊……\n不太理解……\n","date":"2024-12-05T22:19:26+08:00","permalink":"http://acacia.website/2024/cssfindbackaction/","title":"一个奇怪的问题"},{"content":"2024/12/1 值得一记！ 从未经历过如此魔幻的一天……\n原定计划 \u0026amp; 日程安排 早上 7：40 爬起来找一家打印店打印板子，然后坐地铁直达红高路，再蹬车到西华大学考试\n中午 1：40 衮出考场向清水河赶，参加接力，在路上把午饭就解决了。\n下午跑完之后再去清水河转转，拍拍银杏，度过美好的一天~\n实际情况 想象很美好，但是现实hhh那是相当的残酷……\n早上 确实是准点起床了，也确实是非常愉快地收拾好东西了，迅速出门，打算去找打印店。但是当我走到街上的时候，我才发现这一点不对劲。都快 8 点了为什么这广告图文愣是没有一家开门的啊！！！无奈之下我只能暂时选择放弃打印之后再出发的想法，毕竟等下去也不是个办法（谁知道多久开门啊）所以说我选择先上地铁睡一觉，到了再找打印店。\n到了之后（8：50）沿着去学校的方向走了好长好长一段，一路上好几家打印店都依然没有开门……不是哥们，这都快九点钟了啊啊啊啊……\n不过所幸，我看见一家开了灯的打印店，我联系老板，他说他送货去了，五分钟之后回来，遂等了等，好歹是了结了这一茬子事。\n但是实际上，危机才刚刚开始。因为在等打印的空闲时间，我发现入口是东门而不是离我最近的南门。西门就两公里多，东门却有五公里多啊，五公里啊！！打印完的时候是 9：05，我赶忙去扫了一辆车狂吃狂吃往学校蹬（不是你们大学都是绕 1 / 2 多三四公里吗）拼命蹬车最后终于在 23 到了（期间手机还飞出去了重摔了我靠我刚贴的摸（不是），在保安的指引下进了对的楼。但发现了一个很严重的问题：不是哥们，这学校怎么这么大，一层楼我可以走个三四分钟是什么鬼啊啊啊，你电真的就是人下人是吧。最终28的时候终于坐在了座位上……\nok，打击接踵而至。T1 是约瑟夫环问题，纯打卡题，但是我忘记结论了！！！！T2 没想明白乱写了 90 就跑路了，T3，T3，唉唉。线段树！！！我服了让一个几百年没摸数据结构的人去写超级无敌大模拟，真的不会猝死吗啊啊啊。确切地说我已经一年半没写线段树了，大模拟至少三年没写过了，唉，带的板子还没线段树，调的我心肺骤停，最后终于过样例了但是 RE ！！丧尽天良唉唉。T4 没看，T5 感觉更是大模拟，但是没时间写了我要滚蛋了……\n中午 从赛场衮出来的时候，大概是 1：40。但是我又迷路了（没吃早饭方向感全无），就在门口的大楼愣是让我找不到门在哪里（躺）。赶出去上车的时候就近 45 了，按平时算，20 min 包到的，但是！！偏偏今天中午愣是让我四十分钟没跑到。堵车！疯狂的堵车！我靠我直接红温，还有一些长达 180 s 的超级无敌逆天的红绿灯，让我硬吃了两三个，其他的红灯也是纷至沓来，气的人不轻。于此同时，我原计划在车上解决午饭，但是，我居然晕车！！司机也在玩命地赶，车甩的幅度特别大，我憋自己那反胃的感受憋得浑身出汗，更别提……到了下车的地方（2：25），我下车又是迎头一阵冷风吹得我差点昏过去。与此同时 QQ 上队友也在焦急地等待着我的消息……我只能背着我那邦重的包玩命地顶着跑啊……\n跑到门口，家长们又狠狠地给我上了一课。这不正开展什么银杏节吗，给南门门口塞得那叫一个水泄不通啊。反反复复地大声喊请让让我是学生，终于挤了进去……\n所以南门在哪 Orz\n下午 没吃饭，早饭没吃，午饭没吃，晕车反胃，流着汗吹了冷风，还要硬顶 1250……\n好消息：跑完都没吐。\n坏消息：晕了十多分钟……\n啊啊啊我们第二名就和第一名差了两秒……要是能再顶一顶就好了 qwq\n跑完之后彻底失去食欲了，这具身体是不是要 G 了啊（\n有一种所有麻烦全部一下涌上来窒息的美感（\n","date":"2024-12-02T22:17:03+08:00","permalink":"http://acacia.website/2024/dairy20241201/","title":"预支了一个月的霉运……"},{"content":"2024-11-30 本地试运行成功！\n基于魔改的 hugo stack，对 MnZn 更为友好\n2024-12-01 基于 giscus 的评论系统添加完成！\n2024-12-02 完成了大部分的套壳客制化！\n添加了 AntiO2 的友链，感谢大佬捧场~\n2024-12-03 本地工作进入收尾，写一个简要的套壳 客制化提示和使用教程给后来的 uu 们吧~\n客制化提示 友情提醒各位建站的 uu 们，上面给的仓库是可以直接 clone 下来，直接 hugo server 的，完全不需要去 hugo new site yourname，那样只会反反复复地套壳，让你的文件夹变得极为复杂混乱，并且相互冲突（深受其害） 在 clone 下来之后，主要要修改的部分其实就是页尾、头像、侧栏、about 以及 favicon。在找寻需要的东西的时候，善用 find 命令将会给你带来极大的方便。 学会读懂 config 文件，这对你真的很重要（也不难读的 很多的评论系统都被墙了，省事直接上 giscus 吧，如果不嫌折腾可以试试 remark42？ 使用教程 首先去学了解一下页首的相关内容。\ndraft 是是否是草稿，建议常态设置为 true 文章属于什么目录是 categories，另起一行用 \u0026ldquo;- \u0026quot; 描述 文章加 tag 用 tags，同样另起一行用 \u0026ldquo;- \u0026ldquo;描述 categories 目录下，添加新的文件夹，名字改成你想要的 categories 的名字，然后把 archetypes 里 categories.md 直接搬过来，重命名为 _index.md 就会出现啦。\npage 目录是左边侧栏的一个目录，一个文件夹对应一个按钮，具体可以去研究一下 assets 与它的联动。\npost 里面主要放文章，建议按照年先建一层一级目录，再按照你想要的文章名字建立一个文件夹（方便引用图片不会搞乱文件的逻辑）\nmd 文件中引用图片，需要加上 ../../post/（year）/（filename）/yourimg.png\n2024-12-03 尝试上云。\n2024-12-05 修复了 CSS 丢失（加载类型错误）的问题，但是为什么 giscus 评论系统没了！！\n2024-12-06 尝试定位评论系统的问题，阅读文件可以知道它有做功能模块的解耦，我选择直接把相关的搬到 html 上，一切显示正常，推测为某些判断逻辑出了问题。\n修复了评论系统的问题，具体可见这一篇文章。\n","date":"2024-12-02T21:28:26+08:00","permalink":"http://acacia.website/2024/buildingsite/","title":"建站日志"},{"content":" 忆秦娥 莺声却，窗开一阙寒歌越。寒歌越，郎月何夜？ 空传斫谑。 望穿秋波叹笑靥，只言难道烈心切。烈心切，婉温人悦，徒灼魂鹊. ","date":"2024-11-27T00:00:00Z","permalink":"http://acacia.website/2024/yiqine20241127/","title":"忆秦娥"}]